<h2>Configuration</h2>
<p>
  Ad-rotator.js provides several configuration options to fine-tune and customize rotation.
  Only the first two are required whereas the rest are optional that use sensible default values. All available config options are listed below.
</p>
<hr>

<h4><a href="#config?id=dom-element" id="dom-element" title="DOM-element config param - Ad-rotator.js" class="submenu-link section-link">1. <i class="fas fa-code"></i> DOM Element (<code>Required</code>)</a></h4>

<p>
  This is the DOM input element that ad-rotator will use as a container element to inject Ad-units into.
  It is a required property and an error is thrown if it is missing.
</p>

<div class="tabContainer padding-v15">
  <nav>
    <div class="nav nav-tabs" id="nav-tab" role="tablist">
      <a class="nav-link active simple-link tab-link" id="nav-js1-tab" data-toggle="tab" href="#nav-js1" role="tab" aria-controls="nav-js1" aria-selected="true">Javascript</a>
      <a class="nav-link simple-link tab-link" id="nav-html1-tab" data-toggle="tab" href="#nav-html1" role="tab" aria-controls="nav-html1" aria-selected="false">HTML</a>
    </div>
  </nav>
  <div class="tab-content" id="nav-tabContent">
    <div class="tab-pane fade show active" id="nav-js1" role="tabpanel" aria-labelledby="nav-js1-tab">
      <div class="codeContainer">
        <span class="lang">JS</span>
        <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
        <pre class="hljs language-js">
rotator(
  document.querySelector('.publicity_container'), // required
  // ...
)</pre>
      </div>
    </div>
    <div class="tab-pane fade" id="nav-html1" role="tabpanel" aria-labelledby="nav-html1-tab">
      <div class="codeContainer">
        <span class="lang">HTML</span>
        <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
        <pre class="hljs language-html language-xml">&#60;div class="publicity_container"&#62;&#60;/div&#62;</pre>
      </div>
    </div>
  </div>
</div>

<hr>
<h4><a href="#config?id=units" id="units" title="Ad Units config param - Ad-rotator.js" class="submenu-link section-link">2. <i class="fad fa-ad"></i> Ads (<code>Required</code>)</a></h4>

<p>
  This is the source of Ads which will be displayed. It accepts an <b>array of Ads/objects</b> where each object can have 4 properties.
  <ol type="I">
    <li>
      <code>img</code>: <i>string</i> <b>(required)</b> - A url to the image/asset. You are free to use base64 encoded images too.
    </li>
    <li>
      <code>url</code>: <i>string</i> <b>(required)</b> - The target url where the user will be redirected on clicking the Ad.
    </li>
    <li>
      <code>weight</code>: <i>number</i> (optional) - A weight or a priority applied to the Ad. The higher the weight, the greater the chances of the Ad being shown.
      Ads with missing weights are automatically assigned a weight of 1.
    </li>
    <li>
      <code>title</code>: <i>string</i> (optional) - A small text describing the Ad which is used for improving accessibility/SEO.
    </li>
  </ol>
</p>

<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.publicity_container'),  // DOM element (required)
  [                                                // array of Ads  (required)
    { url: 'https://site1.com', img: './picture1.jpg', title: 'Lorem Ipsum', weight: 4 },
    { url: 'https://site2.com', img: 'https://example.com/image2.png', title: 'On Sale!' },
    { url: 'https://site3.com', img: 'example.com/picture3.webp', weight: 2 }
  ]
);</pre>
</div>
<p>
  In the example above, we set <i>weight: 4</i> for the 1st Ad used. By assigning a weight to an Ad unit, we increase its priority and thereby its chances of being shown first.
  When the rotation is randomized, only its chances are increased but there is no guarantee of it being shown first (as expected with truly random rotation).
  To display Ads by their weight (highest to lowest), turn off random rotation by setting the config option ‚Äì <code>random: false</code>.
</p>

<hr>
<h4><a href="#config?id=custom_conf" id="custom_conf" title="Custom config param - Ad-rotator.js" class="submenu-link section-link">3. ‚öôÔ∏è Custom Config</a></h4>

<p>
  Ad-rotator accepts an optional 3rd parameter that allows you to fine-tune configuration.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),  // DOM element (required)
  [
    // array of Ads  (required)
  ],
  {
    // custom config options [optional]
  }
);</pre>
</div>
<p>
  There are several custom config options available as listed below...
</p>

<hr>
<h4><a href="#config?id=timer" id="timer" title="Timer config param - Ad-rotator.js" class="submenu-link section-link">A. ‚è∞ timer</a></h4>

<p>
  The <code>timer</code> <i>(Type: integer)</i> config option specifies the time after which an advertisement will be rotated in seconds.
  Lowest accepted value is <b>2</b> seconds.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),
  [ ... ],     // array of Ads
  {
    timer: 3,  // default - 5
  }
);</pre>
</div>
<p>
  Going by the above snippet, Ads will be rotated after every 3 seconds. By default, Ads are rotated after every 5 seconds.
</p>

<hr>
<h4><a href="#config?id=random" id="random" title="random config param - Ad-rotator.js" class="submenu-link section-link">B. <i class="fad fa-random"></i> random</h4></a>

<p>
  The <code>random</code> <i>(Type: Boolean)</i> config option controls the fashion of Ad-rotation.
  When set to <code>false</code>, ads are rotated sequentially i.e. in the order they are provided in the Array.
  By default, this option is set to <code>true</code>, i.e. ads are rotated randomly.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),
  [ ... ],     // array of Ads
  {
    random: false, // default - true
  }
);</pre>
</div>
<p>
  <i class="fas fa-info-circle"></i> Note: The <code>weight</code> property of the Ads array overrides the default behaviour of this option.
</p>

<hr>
<h4><a href="#config?id=newtab" id="newtab" title="newTab config param - Ad-rotator.js" class="submenu-link section-link">C. <i class="fad fa-window"></i> newTab</a></h4>

<p>
  The <code>newTab</code> <i>(Type: Boolean)</i> config option is used to control the destination of the target URL (i.e. if it should be opened in a new tab or in the current tab/window)..
  Set to <b>true</b> if you wish to be navigated to a new Tab.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),
  [ ... ],     // array of Ads
  {
    newTab: true, // opens target URL in a new Tab
  }
);</pre>
</div>
<p>
  By default, it is set to <code>false</code>, i.e. the target URL is opened within the same tab/window.
</p>

<hr>
<h4><a href="#config?id=target" id="target" title="target config param - Ad-rotator.js" class="submenu-link section-link">D. üéØ target</a></h4>

<p>
  The <code>target</code> <i>(Type: Enum)</i> config option allows you to specify the device on which Ads should be shown.
  It can be set to <code>desktop</code>, <code>mobile</code> or <code>all</code>.
  If we set <code>target: 'desktop'</code>, ads will be shown only on a desktop device whereas if we set
  <code>target: 'mobile'</code>, ads will be displayed on a mobile device alone.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),
  [ ... ],     // array of Ads
  {
    target: 'desktop', // default - all
  }
);</pre>
</div>
<p>
  By default, the <code>target</code> config option is set to <code>all</code> meaning Ads are shown on all devices.
</p>

<hr>
<h4><a href="#config?id=cb-hook" id="cb-hook" title="cb - Callback config param - Ad-rotator.js" class="submenu-link section-link">E. ü™ù cb (callback hook)</h4></a>

<p>
  The <code>cb()</code> config option is a callback that is invoked when the rotation starts and each time an Ad-unit is rotated.
</p>
<p>
  It receives 3 parameters - <code>unit</code> (the current Ad unit), <code>El</code> (the container html element) and <code>conf</code> (the current config parameters).
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    cb: (adUnit, el, conf) => {
      console.log('Displayed Ad =>', adUnit);
      config.timer = 10; // change rotation time to 10 secs
    },
  }
);</pre>
</div>
<p>
  The <code>cb</code> hook is optional. It can be used for analytics or to change configuration on the fly.
</p>

<hr>
<h4><a href="#config?id=onhover-hook" id="onhover-hook" title="onHover config param - Ad-rotator.js" class="submenu-link section-link">F. <i class="fad fa-mouse-pointer"></i> onHover hook</h4></a>

<p>
  The <code>onHover()</code> config option is a callback that is invoked each time an Ad-unit gets hovered upon.
  It works only on a desktop since the hover event is not supported for touch-devices.
</p>
<p>
  It receives 2 parameters - <code>item</code> (the current Ad unit) and <code>El</code> (the html Ad container)
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    onHover: (adUnit, El) => {
      console.log("You hovered over this Ad =>", adUnit);
    },
  }
);</pre>
</div>

<p>
  The <code>onHover()</code> callback is optional and can be used for analytics or to execute some action.
</p>

<hr>
<h4><a href="#config?id=onclick-hook" id="onclick-hook" title="onClick config param - Ad-rotator.js" class="submenu-link section-link">G. üñ±Ô∏è onClick hook</a></h4>

<p>
  The <code>onClick()</code> config option is a callback that is invoked when a user clicks on an Ad unit.
</p>
<p>
  It receives 2 parameters - <code>event</code> (the click event) and <code>unit</code>(the current Ad unit)
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    onClick: (e, adUnit) => {
      // e.preventDefault();
      alert("You clicked on this Ad. Navigating to " + adUnit.url);
    }
  }
);</pre>
</div>
<p>
  The <code>onClick()</code> callback is optional and can be used for analytics, to execute some action or to modify the default navigation action.
</p>

<hr>
<h4><a href="#config?id=fallback-mode" id="fallback-mode" title="fallbackMode config param - Ad-rotator.js" class="submenu-link section-link">H. ‚öúÔ∏è fallbackMode</a></h4>

<p>
  The <code>fallbackMode</code> <i>(Type: Boolean)</i> config option is used when you wish to use Ad-rotator.js only as a <b>fallback</b>.
  In fallback mode, Ads are shown only if the library detects an Adblocker.
  This is specially useful if you wish to display Ads from another provider like Google, Amazon, Carbon, etc. and want to use
  Ad-rotator.js only as a fallback solution.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    fallbackMode: true, // default - false
  }
);</pre>
</div>
<p>
  By default, it is set to <code>false</code>, i.e. the fallback mode is disabled and Ads will be injected irrespective of whether an Adblocker is active or not.
</p>
<p>
  Tested for most Ad blockers (Adblock, Adblock Plus, Adblock ultimate, ublock origin, etc) as well as Brave's shields.
  Kindly open an <a href="https://github.com/digitalfortress-tech/ad-rotator/issues/new" title="Open Issue">issue</a> in case fallback mode fails for a certain browser/extension.
  Meanwhile feel free to test this mode on <a href="https://jsfiddle.net/niketpathak/u8bkvyn6/" title="Adrotator fallbackMode JS fiddle">JS Fiddle</a>.
</p>

<hr>
<h4><a href="#config?id=img-class" id="img-class" title="imgClass config param - Ad-rotator.js" class="submenu-link section-link">I. <i class="fad fa-image-polaroid"></i> imgClass</h4></a>

<p>
  The <code>imgClass</code> <i>(Type: String)</i> config option is used to add a custom class to the <code>&lt;img /></code> element.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    imgClass: 'rounded',                 // default - ''
  }
);</pre>
</div>
<p>
  The default value of <code>imgClass</code> is set to an empty string (<code>''</code>). It can be used for styling image elements.
</p>

<hr>
<h4><a href="#config?id=link-class" id="link-class" title="linkClass config param - Ad-rotator.js" class="submenu-link section-link"> J. <i class="fad fa-link"></i> linkClass</a></h4>

<p>
  The <code>linkClass</code> <i>(Type: String)</i> config option is used to add a custom class to the <code>&lt;a /></code> element.
</p>
<div class="codeContainer">
  <span class="lang">JS</span>
  <span class="copy" title="Copy to Clipboard"><i class="far fa-copy"></i></span>
  <pre class="hljs language-js">
const instance = rotator(
  document.querySelector('.container'),   // a DOM element
  [                                       // array of ads
    { url: 'https://site.com', img: 'https://example/picture.jpg'},
    // ...
  ],
  {                                      // configuration options
    linkClass: 'fancy-link',             // default - ''
  }
);</pre>
</div>
<p>
  The default value of <code>linkClass</code> is set to an empty string (<code>''</code>). It can be used for styling anchor (link) elements.
</p>

<hr>
<h4><a href="#config?id=sticky" id="sticky" title="sticky config param - Ad-rotator.js" class="submenu-link section-link">K. üß≤ sticky</h4></a>

<p>
  Ad-rotator.js permits you to display sticky Ads. These are ads that stay visible on the screen even when you scroll.
  By default, this setting is disabled, but you can enable it by simply passing an empty object. (<code>sticky: {}</code>).
</p>
<p>
  You can also configure sticky advertisements in a way which ensures that your Ads are not intrusive
  and that they do not degrade user experience.
</p>

<div class="codepen" data-height="400" style="height:400px; overflow: auto;" data-theme-id="dark" data-default-tab="js,result" data-preview="true" data-editable="true"  data-prefill='{"title":"Ad-rotator Usage Demo","tags":[],"scripts":[],"stylesheets":[]}'>
  <pre data-lang="html">
&lt;!-- Include assets -->
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ad-rotator/dist/style.css" />
&lt;script src="https://cdn.jsdelivr.net/npm/ad-rotator">&lt;/script>

&lt;!-- example markup -->
&lt;main class="start">Main Content&lt;/main>
&lt;div id="publicity">Ad area&lt;/div>
&lt;section class="middle">Middle content&lt;/section>
&lt;footer class="end">Footer content&lt;/footer>

&lt;hr/>
Ad-rotator.js
</pre>
<pre data-lang="css">
/* Example Styling  */
#publicity { /* style Ad-unit */
  height: 250px;
  width: 300px;
  background-color: yellow;
  overflow: hidden;
}
.start, .end {    /* element before the Ad-unit */
  height: 200px;
  width: 100%;
  background-color: green;
}
.middle {    /* empty area */
  min-height: 1000px;
  width: 100%;
}
img {
  object-fit: cover;
  height: 100%;
  width: 100%;
}
</pre>

<pre data-lang="js">
// initialize ad-rotator
const instance = rotator(
  document.getElementById('publicity'),
  getAds(),
  {
    // sticky: {}, // this enables stickiness, but we recommend the config below:
    sticky: {
      beforeEl: document.querySelector('.start'),
      afterEl: document.querySelector('.end'),
      position: 'fixed',      // default - 'fixed'
      offsetTop: '20',        // or '20px' (defaults to 0px)
      offsetBottom: '100px',  // or '100' (defaults to 0px)
      noMobile: true          // disable stickiness on mobile (default - false)
    },
  }
);

// start the rotation
instance.start();

// ads
function getAds() {
  return [
    { url: 'https://fusionplatter.eu#1', img: 'https://niketpathak.com/images/works/gkm_pic_sq.jpg'},
    { url: 'https://digitalfortress.tech#2', img: 'https://niketpathak.com/images/works/maestrobits_sq.jpg'},
    { url: 'https://gospelmusic.io#3', img: 'https://niketpathak.com/images/works/halcyonminds_sq.jpg'}
  ];
}
</pre>
</div>


<p>
  The <code>sticky</code> config option can be customized by providing an <b>Object</b> with properties listed below -
  <ol type="I">
    <li>
      <code>beforeEl</code>: <i>HTMLElement</i> - refers to the Element from where the Ad becomes sticky.
      This means that the Ad becomes sticky only when you scroll upto this element.
      The default behaviour is to make the Ad sticky as soon as the user scrolls.
    </li>
    <li>
      <code>afterEl</code>: <i>HTMLElement</i> - refers to the Element from where the Ad stops being sticky.
      i.e. when you scroll to/after this element, the Ad will no longer be sticky.
      By default, the Ad stays sticky permanently.
    </li>
    <li>
      <code>position</code>: <i>"fixed" | "sticky"</i> - refers to the positioning to be used.
      By default, <b>fixed</b> positioning is used. When using <b>sticky</b> positioning,
      the <i>beforeEl</i>, <i>afterEl</i> and <i>offsetBottom</i> options have no effect.
    </li>
    <li>
      <code>offsetTop</code>: <i>number | string</i> - A margin that is added at the top of the Ad.
      Defaults to <b>0</b> i.e. sticks to the top of the screen.
    </li>
    <li>
      <code>offsetBottom</code>: <i>number | string</i> - A margin that is added at the bottom of the Ad. Defaults to <b>0</b>.
    </li>
    <li>
      <code>noMobile</code>: <i>Boolean</i> - This option can be used when you wish for your Ad unit to <b>not</b> be sticky on a mobile.
      Its default value is <b>false</b>, meaning that the Ad will be sticky on all devices.
    </li>
  </ol>
</p>
<p>
  Another complete example showcasing sticky Ads can be found on the
  <a href="#playground?id=sticky-example" class="submenu-link section-link internal-section-link">Playground</a>.
</p>

<hr>
<div class="bottom-nav">
  <div class="bottom-nav-right">
    <div class="label">Next <i class="fad fa-chevron-double-right"></i></div>
    <a title="API" href="#api" class="submenu-link">API</a>
  </div>
  <div class="bottom-nav-left">
    <div class="label"><i class="fad fa-chevron-double-left"></i> Previous</div>
    <a title="Usage" href="#usage" class="submenu-link">Usage</a>
  </div>
</div>

<script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script>
